<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <div id="app"></div>
    <script>
      const app = document.querySelector("#app");
      const xmlHttp = new XMLHttpRequest();
      xmlHttp.open("get", "phonebook.json");
      xmlHttp.send();
      xmlHttp.onreadystatechange = () => {
        if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
          console.log(xmlHttp.responseText);
          try {
            const data2 = JSON.parse(xmlHttp.responseText);

            data2.forEach((element) => {
              const item = document.createElement("div");
              item.className = "phonebooke-item";

              const profileImage = document.createElement("img");
              profileImage.src = element.pic;
              const porfileName = document.createElement("span");
              porfileName.textContent= element.name;
              const porfileHp = document.createElement("span");
              porfileHp.textContent= element.hp;
              item.appendChild(profileImage)
              item.appendChild(porfileName)
              item.appendChild(porfileHp)
              app.appendChild(item);
              console.log("element:" + element);
            });
          } catch (e) {
            console.log(e);
          }
          /*
            data2.forEach(elment => {
                if (element.id === id) {
                    console.log(elment);
                    return;
                }
            });
            */
        }
      };
    </script>
  </body>
</html>
